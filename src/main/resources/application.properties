spring.application.name=kafka-spring-cloud-stream
server.port=8080

# Bindings corrigés
spring.cloud.stream.bindings.pageEventConsumer-in-0.destination=T3
spring.cloud.stream.bindings.pageEventSupplier-out-0.destination=T3
spring.cloud.stream.bindings.kStreamFunction-in-0.destination=T3
spring.cloud.stream.bindings.kStreamFunction-out-0.destination=T4

# Définition des fonctions
spring.cloud.function.definition=pageEventConsumer;pageEventSupplier;kStreamFunction

spring.cloud.stream.bindings.pageEventSupplier-out-0.producer.poller.fixed-delay=2000

# Configuration Kafka Streams
spring.cloud.stream.kafka.streams.binder.configuration.commit.interval.ms=1000
spring.cloud.stream.kafka.streams.binder.configuration.default.key.serde=org.apache.kafka.common.serialization.Serdes$StringSerde
spring.cloud.stream.kafka.streams.binder.configuration.default.value.serde=org.apache.kafka.common.serialization.Serdes$StringSerde
spring.cloud.stream.kafka.streams.binder.configuration.application.server=localhost:8080

# Désactiver la répartition (simplification)
spring.cloud.stream.kafka.streams.binder.auto-create-topics=true
spring.cloud.stream.kafka.streams.binder.configuration.num.stream.threads=1